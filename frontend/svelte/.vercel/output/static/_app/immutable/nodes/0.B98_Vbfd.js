import"../chunks/DsnmJJEf.js";import{o as Pe,s as We}from"../chunks/Y1pQyyvi.js";import{l as ce,q as I,s as K,y as Q,F as ze,r as Re,m as h,v as t,a as B,w as u,z as r,E as de,t as L,B as m,n as f,o as ge,u as p,x as W,ai as qe,C as Ee,aJ as Ne}from"../chunks/Ck91ypkQ.js";import{i as y}from"../chunks/RujGBxXx.js";import{a as A,s as me}from"../chunks/DcXenzi0.js";import"../chunks/69_IOA4Y.js";import{a as ue}from"../chunks/DvH4tfbe.js";import{s as w}from"../chunks/B38bOHRo.js";import{i as Oe}from"../chunks/6tn_K0LM.js";import{p as O}from"../chunks/Qt-Iq8OT.js";import{g as Se}from"../chunks/Bc_wzfnz.js";import{p as pe}from"../chunks/CfuI28ud.js";import{l as De,t as Fe,a as Je}from"../chunks/DxUIFzZ0.js";import{u as fe,b as Ue,i as ve,r as Ve,c as Ge,d as He}from"../chunks/DfTMoNxM.js";var Ie=h('<button class="flex items-center text-gray-600 hover:text-gray-800 transition-colors p-2 rounded-lg hover:bg-gray-100"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button>'),Ke=h('<div><div class="w-8 h-8 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full flex items-center justify-center font-bold text-sm"> </div> <div class="hidden sm:block"><p class="text-xs text-gray-500"> </p> <p class="font-medium text-gray-900 text-sm"> </p></div></div>'),Qe=h('<button class="group relative bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 text-gray-700 hover:text-gray-900 px-4 py-2 rounded-xl font-semibold transition-all duration-200 text-sm border border-blue-200/50 hover:border-blue-300/70 shadow-sm hover:shadow-md transform hover:scale-105" title="Toggle Language"><span class="font-bold tracking-wide"> </span> <div class="absolute inset-0 bg-gradient-to-r from-blue-400/20 to-indigo-400/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-200 -z-10"></div></button>'),Xe=h("<button><span>ðŸ”“</span> <span> </span></button>"),Ye=h('<button class="group bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 text-gray-700 hover:text-gray-900 px-3 py-1 rounded-lg font-semibold transition-all duration-200 text-xs border border-blue-200/50 hover:border-blue-300/70 shadow-sm hover:shadow-md transform hover:scale-105" title="Toggle Language"><span class="font-bold tracking-wide"> </span></button>'),Ze=h('<button class="text-red-600 text-xs px-2 py-1 bg-red-50 rounded hover:bg-red-100 transition-colors">ðŸ”“ Logout</button>'),et=h('<div class="sm:hidden pb-3 pt-1 border-t border-gray-100"><div class="flex items-center justify-between"><div><div class="w-6 h-6 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full flex items-center justify-center font-bold text-xs"> </div> <div><p class="text-xs text-gray-500"> </p></div></div> <div><!> <!></div></div></div>'),tt=h('<header><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><div><!> <!></div> <div class="flex-2 flex items-center justify-center mx-4 svelte-1awjdlf"><h1 class="relative bg-gradient-to-br from-green-400 via-green-500 to-green-600 text-white px-4 py-2 rounded-lg font-bold text-base tracking-wide shadow-lg transition-all duration-300 max-w-xs truncate text-center"><span class="relative z-10 drop-shadow-lg"> </span></h1></div> <div><!> <!> <div class="sm:hidden"><button class="p-2 rounded-lg text-gray-600 hover:text-gray-800 hover:bg-gray-100" title="Menu" aria-label="Menu"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div></div></div> <!></div></header>');function rt(S,x){ce(x,!1);const[k,D]=me(),o=()=>A(De,"$language",k),v=()=>A(pe,"$page",k),s=()=>A(Fe,"$t",k),n=()=>A(fe,"$user",k),j=Q(),F=Q(),b=Q();let J=O(x,"showBackButton",8,!0),l=O(x,"title",8,""),M=O(x,"showLanguageToggle",8,!0),X=O(x,"showLogout",8,!0);function he(){window.history.length>1?window.history.back():Se("/dashboard")}function Y(){Ue()}function Z(){console.log("Language toggle clicked, current language:",o()),Je(),console.log("Language after toggle:",o())}function xe(a){return{"/dashboard":s().dashboard||"Dashboard","/virtual-card":s().virtualCard||"Virtual Card","/customer-support":s().customerSupport||"Customer Support","/my-offers":s().myOffers||"My Offers","/admin":s().adminPanel||"Admin Panel","/admin-login":"Admin Login","/login":"Login","/register":"Register"}[a]||"MainLoyalty"}I(()=>(ze(l()),v()),()=>{K(j,l()||xe(v().url.pathname))}),I(()=>v(),()=>{K(F,v().url.pathname.startsWith("/admin"))}),I(()=>v(),()=>{K(b,v().url.pathname==="/login"||v().url.pathname==="/admin-login")}),Re(),Oe();var z=tt();let ee;var te=t(z),U=t(te),R=t(U);let re;var ae=t(R);{var be=a=>{var e=Ie(),i=t(e);r(e),L(()=>{ue(e,"title",(s(),p(()=>s().back||"Back"))),ue(e,"aria-label",(s(),p(()=>s().back||"Back"))),w(i,0,`w-5 h-5 ${o()==="ar"?"rotate-180":""}`)}),W("click",e,he),f(a,e)};y(ae,a=>{J()&&!B(b)&&a(be)})}var _e=u(ae,2);{var we=a=>{var e=Ke();let i;var d=t(e),$=t(d,!0);r(d);var _=u(d,2),T=t(_),q=t(T,!0);r(T);var C=u(T,2),H=t(C,!0);r(C),r(_),r(e),L((P,E)=>{i=w(e,1,"flex items-center space-x-3",null,i,P),m($,E),m(q,(s(),p(()=>s().welcome||"Welcome"))),m(H,(n(),p(()=>n().name)))},[()=>({"space-x-reverse":o()==="ar"}),()=>(n(),p(()=>n().name.charAt(0)))]),f(a,e)};y(_e,a=>{!B(b)&&n()&&a(we)})}r(R);var V=u(R,2),oe=t(V),se=t(oe),ye=t(se,!0);r(se),r(oe),r(V);var G=u(V,2);let ne;var ie=t(G);{var ke=a=>{var e=Qe(),i=t(e),d=t(i,!0);r(i),de(2),r(e),L(()=>m(d,o()==="ar"?"EN":"AR")),W("click",e,Z),f(a,e)};y(ie,a=>{M()&&a(ke)})}var Le=u(ie,2);{var $e=a=>{var e=Xe();let i;var d=u(t(e),2),$=t(d,!0);r(d),r(e),L(_=>{i=w(e,1,"hidden sm:flex items-center space-x-2 bg-red-50 text-red-600 px-3 py-2 rounded-lg font-medium hover:bg-red-100 transition-colors text-sm",null,i,_),m($,(s(),p(()=>s().logout||"Logout")))},[()=>({"space-x-reverse":o()==="ar"})]),W("click",e,Y),f(a,e)};y(Le,a=>{X()&&!B(b)&&n()&&a($e)})}de(2),r(G),r(U);var Be=u(U,2);{var Ae=a=>{var e=et(),i=t(e),d=t(i);let $;var _=t(d),T=t(_,!0);r(_);var q=u(_,2),C=t(q),H=t(C);r(C),r(q),r(d);var P=u(d,2);let E;var le=t(P);{var je=c=>{var g=Ye(),N=t(g),Ce=t(N,!0);r(N),r(g),L(()=>m(Ce,o()==="ar"?"EN":"AR")),W("click",g,Z),f(c,g)};y(le,c=>{M()&&c(je)})}var Me=u(le,2);{var Te=c=>{var g=Ze();W("click",g,Y),f(c,g)};y(Me,c=>{X()&&n()&&c(Te)})}r(P),r(i),r(e),L((c,g,N)=>{$=w(d,1,"flex items-center space-x-3",null,$,c),m(T,g),m(H,`${s(),p(()=>s().welcome||"Welcome")??""} ${n(),p(()=>n().name)??""}`),E=w(P,1,"flex items-center space-x-2",null,E,N)},[()=>({"space-x-reverse":o()==="ar"}),()=>(n(),p(()=>n().name.charAt(0))),()=>({"space-x-reverse":o()==="ar"})]),f(a,e)};y(Be,a=>{!B(b)&&n()&&a(Ae)})}r(te),r(z),L((a,e,i)=>{ee=w(z,1,"bg-white shadow-lg border-b border-gray-200 sticky top-0 z-50 svelte-1awjdlf",null,ee,a),re=w(R,1,"flex items-center space-x-4 min-w-0 flex-1",null,re,e),m(ye,B(j)),ne=w(G,1,"flex items-center space-x-2 min-w-0 flex-1 justify-end",null,ne,i)},[()=>({rtl:o()==="ar"}),()=>({"space-x-reverse":o()==="ar"}),()=>({"space-x-reverse":o()==="ar"})]),f(S,z),ge(),D()}var at=h('<!> <main class="min-h-screen bg-gray-50"><!></main>',1);function xt(S,x){ce(x,!0);const[k,D]=me(),o=()=>A(pe,"$page",k),v=()=>A(fe,"$user",k),s=Ne(()=>o().url.pathname==="/"||o().url.pathname==="/test"||o().url.pathname==="/login");Pe(()=>{He()}),qe(()=>{const l=o().url.pathname,M=v();ve(l)&&ve(l)&&(l.startsWith("/admin")&&l!=="/admin-login"?Ve(M):!l.startsWith("/admin-login")&&!l.startsWith("/login")&&Ge(M))});var n=at(),j=Ee(n);{var F=l=>{rt(l,{})};y(j,l=>{B(s)||l(F)})}var b=u(j,2),J=t(b);We(J,()=>x.children),r(b),f(S,n),ge(),D()}export{xt as component};
