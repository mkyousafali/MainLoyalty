import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{o as lr}from"../chunks/Y1pQyyvi.js";import{l as ir,q as Oe,r as cr,m as S,t as k,x as D,n as g,o as dr,a as e,y as u,w as s,v as a,B as c,u as i,s as t,z as r,aI as ur,C as ne,A as mr,G as xe,H as At}from"../chunks/Ck91ypkQ.js";import{i as N}from"../chunks/RujGBxXx.js";import{e as ct,i as dt}from"../chunks/D775oJua.js";import{a as $,r as J}from"../chunks/DvH4tfbe.js";import{s as _e}from"../chunks/B38bOHRo.js";import{a as le,c as gr}from"../chunks/C4HntxLm.js";import{b as vr}from"../chunks/xkiwYR4x.js";import{b as fr}from"../chunks/J-1wTRcM.js";import{p as ut}from"../chunks/D4Caz1gY.js";import{i as pr}from"../chunks/6tn_K0LM.js";import{g as Ve}from"../chunks/Bc_wzfnz.js";import{l as Et}from"../chunks/DfTMoNxM.js";import{s as ie}from"../chunks/CIOq__Tp.js";import{f as mt,t as Mt}from"../chunks/C4J_Ibb5.js";import{g as hr}from"../chunks/DAgg4psM.js";var br=S('<span class="flex items-center justify-center"><svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> </span>'),xr=S('<p class="leading-relaxed"><strong class="text-green-700"> </strong> </p>'),_r=S('<h4 class="font-bold text-green-800 mb-4 text-center text-base"> </h4> <div class="space-y-3"></div>',1),yr=S('<h4 class="font-bold text-green-800 mb-4 text-center text-base"> </h4> <p class="text-center text-gray-500"> </p>',1),wr=S('<div class="mt-5 p-5 border-2 border-green-200 rounded-3xl text-sm text-gray-700 max-h-64 overflow-y-auto bg-white shadow-inner"><!></div>'),kr=S('<form class="space-y-8"><div><label class="block text-sm font-semibold text-gray-700 mb-4"> </label> <div class="relative"><div class="absolute inset-y-0 left-0 flex items-center pl-4"><span class="text-gray-500 text-sm bg-gray-100 px-2 py-1 rounded-full">SA +966</span></div> <input type="tel" class="w-full pl-24 pr-4 py-5 border-2 border-gray-200 rounded-2xl focus:border-orange-400 focus:ring-4 focus:ring-orange-100 focus:outline-none transition-all duration-200 text-lg shadow-sm" maxlength="10"/></div></div> <button type="submit" class="w-full bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white py-5 px-6 rounded-3xl font-semibold focus:outline-none focus:ring-4 focus:ring-orange-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg"><!></button></form> <div><div class="flex items-center gap-3 text-green-700 mb-4"><svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-semibold text-base"> </span></div> <a target="_blank" class="block w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-4 px-5 rounded-2xl font-semibold text-center mb-3 transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg"><div class="flex items-center justify-center gap-3"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981z"></path></svg> <span> </span></div></a> <button type="button" class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-4 px-5 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg"><div class="flex items-center justify-center gap-3"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <span> </span></div></button> <!></div>',1),Cr=S("<option> </option>"),Pr=S('<p class="leading-relaxed"><strong class="text-green-700"> </strong> </p>'),Tr=S('<h4 class="font-bold text-green-800 mb-4 text-base"> </h4> <div class="space-y-3"></div>',1),Sr=S('<h4 class="font-bold text-green-800 mb-4 text-base"> </h4> <p class="text-center text-gray-500"> </p>',1),Ar=S('<div class="mt-4 p-5 border-2 border-green-200 rounded-3xl text-sm text-gray-700 max-h-48 overflow-y-auto bg-white shadow-inner"><!></div>'),Er=S('<span class="flex items-center justify-center"><svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> </span>'),Mr=S('<div><h2 class="text-3xl font-bold text-center text-gray-800 mb-8"> </h2> <form class="space-y-6"><div><label class="block text-sm font-semibold text-gray-700 mb-3"> </label> <input type="text" class="w-full px-5 py-4 border-2 border-gray-200 rounded-2xl focus:border-orange-400 focus:ring-4 focus:ring-orange-100 focus:outline-none transition-all duration-200 shadow-sm" required/></div> <div><label class="block text-sm font-semibold text-gray-700 mb-3"> </label> <input type="text" class="w-full px-5 py-4 border-2 border-gray-200 rounded-2xl focus:border-orange-400 focus:ring-4 focus:ring-orange-100 focus:outline-none transition-all duration-200 shadow-sm" required/></div> <div><label class="block text-sm font-semibold text-gray-700 mb-3"> </label> <select class="w-full px-5 py-4 border-2 border-gray-200 rounded-2xl focus:border-orange-400 focus:ring-4 focus:ring-orange-100 focus:outline-none transition-all duration-200 shadow-sm" required><option> </option><!></select></div> <div><label class="block text-sm font-semibold text-gray-700 mb-3"> </label> <input type="password" class="w-full px-5 py-4 border-2 border-gray-200 rounded-2xl focus:border-orange-400 focus:ring-4 focus:ring-orange-100 focus:outline-none transition-all duration-200 shadow-sm" minlength="6" required/></div> <div><label class="block text-sm font-semibold text-gray-700 mb-3"> </label> <input type="password" class="w-full px-5 py-4 border-2 border-gray-200 rounded-2xl focus:border-orange-400 focus:ring-4 focus:ring-orange-100 focus:outline-none transition-all duration-200 shadow-sm" required/></div> <div class="p-6 rounded-2xl bg-black/5 backdrop-blur-sm border border-white/20"><label class="block text-sm font-medium text-gray-800 mb-4 flex items-center gap-2"><span class="w-2 h-2 bg-cyan-400 rounded-full animate-pulse"></span> </label> <div class="flex items-center gap-4"><div class="bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-6 py-3 rounded-xl font-mono text-lg font-bold shadow-lg transform hover:scale-105 transition-all duration-200"> </div> <span class="text-gray-400 text-xl font-light">=</span> <input type="number" placeholder="?" class="w-20 h-12 text-center border-0 border-b-2 border-gray-300 bg-transparent focus:border-cyan-500 focus:outline-none transition-all duration-200 text-lg font-mono" required/> <button type="button" class="ml-auto w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-cyan-100 text-gray-600 hover:text-cyan-600 transition-all duration-200 group" title="Generate new question"><svg class="w-4 h-4 transform group-hover:rotate-180 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div> <div class="space-y-4"><div class="flex items-start space-x-4"><input type="checkbox" class="mt-1 h-5 w-5 text-green-600 border-2 border-gray-300 rounded focus:ring-green-500 transition-all duration-200" required/> <label class="text-sm text-gray-700 leading-relaxed"> <button type="button" class="text-orange-500 font-semibold underline ml-1 hover:text-orange-600 transition-colors duration-200"> </button></label></div> <!></div> <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-5 px-6 rounded-3xl font-semibold focus:outline-none focus:ring-4 focus:ring-green-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg mt-8"><!></button> <button type="button" class="w-full mt-4 text-gray-500 hover:text-gray-700 font-semibold py-3 transition-all duration-200 hover:bg-gray-50 rounded-2xl"> </button></form></div>'),Br=S('<div><h2 class="text-3xl font-bold text-center text-gray-800 mb-6"> </h2> <p class="text-center text-gray-400 mb-8 font-light"> </p> <form class="space-y-8"><div><input type="password" class="w-full px-5 py-5 border-2 border-gray-200 rounded-2xl focus:border-orange-400 focus:ring-4 focus:ring-orange-100 focus:outline-none transition-all duration-200 text-lg shadow-sm" required/></div> <button type="submit" class="w-full bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white py-5 px-6 rounded-3xl font-semibold focus:outline-none focus:ring-4 focus:ring-orange-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg"> </button> <button type="button" class="w-full text-gray-500 hover:text-gray-700 font-semibold py-3 transition-all duration-200 hover:bg-gray-50 rounded-2xl"> </button></form></div>'),Nr=S('<div class="text-center"><div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-gradient-to-r from-green-100 to-emerald-100 mb-6"><svg class="h-8 w-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div> <h2 class="text-3xl font-bold text-gray-800 mb-4"> </h2> <p class="text-gray-500 mb-8 font-light leading-relaxed"> </p> <button class="bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white py-5 px-8 rounded-3xl font-semibold focus:outline-none focus:ring-4 focus:ring-orange-200 transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg"> </button></div>'),Ir=S('<div class="mt-6 p-5 bg-gradient-to-r from-red-50 to-pink-50 border-l-4 border-red-400 rounded-2xl shadow-sm"><div class="flex items-center"><svg class="w-5 h-5 text-red-500 mr-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg> <p class="text-red-700 text-sm font-medium"> </p></div></div>'),Lr=S('<div class="mt-6 p-4 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-2xl shadow-sm"><div class="flex items-center justify-center"><svg class="animate-spin -ml-1 mr-3 h-4 w-4 text-orange-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <p class="text-orange-700 text-sm font-semibold text-center"> </p></div></div>'),Dr=S('<div class="min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-orange-50 flex items-center justify-center p-4"><div class="w-full max-w-md"><div><div class="flex justify-end mb-6"><div class="flex bg-gray-100 rounded-full p-1 shadow-sm"><button type="button">EN</button> <button type="button">ع</button></div></div> <div class="text-center mb-10"><div class="mb-6"><img src="/logo.png" alt="Urban Market Logo" class="mx-auto h-24 w-auto mb-6"/></div> <h1 class="text-3xl font-bold text-gray-800 mb-3 tracking-tight"> </h1></div> <!> <!> <!> <!> <!> <!></div> <div><div class="flex justify-center items-center gap-1"><span role="button" tabindex="0"><!></span></div></div></div></div>');function ea(Bt,Nt){ir(Nt,!1);const We=u(),gt=u(),o=u();let A=u("en"),M=u(""),_=u(""),y=u(!1),j=u("check"),R=u(""),q=u(!1),X=u(!1),Me=u(),W=u(""),K=u(""),ce=u(""),Z=u(""),Ue=u(""),ee=null,Be=u(!1),Ne=u(""),vt=u(""),Ie=u(""),de=u(""),ue={num1:0,num2:0},Ye=u([]);lr(()=>{setTimeout(()=>{t(X,!0)},100),setTimeout(()=>{e(Me)&&e(Me).focus()},600),Dt(),$e(),It(),Lt()});async function It(){await Mt.loadTerms(),Mt.subscribe(n=>{t(z,n);const l=n[e(A)]||n.en;t(ye,mt(l,10))})}async function Lt(){try{t(Ge,await hr()),console.log("✅ WhatsApp support link loaded:",e(Ge))}catch(n){console.warn("⚠️ Failed to load WhatsApp link, using fallback:",n)}}function ft(){ur(E),console.log(`😊 Smiley clicked ${e(E)} times`),e(E)===5?console.log("🤔 Halfway there..."):e(E)===8?console.log("😏 Almost there..."):e(E)===9&&console.log("😈 One more click..."),e(E)>=10&&(console.log("🎉 Easter egg activated! Redirecting to admin login..."),t(E,0),Ve("/admin-login")),setTimeout(()=>{e(E)<10&&t(E,Math.max(0,e(E)-1))},5e3)}function $e(){ue.num1=Math.floor(Math.random()*10)+1,ue.num2=Math.floor(Math.random()*10)+1,t(Ie,(ue.num1+ue.num2).toString()),t(vt,`${ue.num1} + ${ue.num2} = ?`),t(de,"")}async function Dt(){try{const{data:n,error:l}=await ie.from("branches").select("id, name_en, name_ar").order("id",{ascending:!0});if(l)throw l;t(Ye,n.map(d=>({id:d.id,name:d.name_en,nameAr:d.name_ar})))}catch(n){console.error("❌ Failed to load branches:",n)}}function Rt(n){return n.replace(/\D/g,"").slice(0,10)}function Xt(n){const l=n.target,d=Rt(l.value);t(M,d),l.value=d}async function jt(){if(t(_,""),t(y,!0),t(R,"Validating mobile number..."),!e(We)){t(_,"Please enter a valid 10-digit Saudi mobile number"),t(y,!1);return}try{t(R,"Searching customer database...");const{data:n,error:l}=await ie.from("customer_numbers").select("*").eq("customer",e(M)).single();if(l||!n){t(j,"check"),t(_,"Not found. Please contact support or visit a branch."),t(y,!1);return}t(R,"Verifying account status...");const{data:d,error:p}=await ie.from("customers").select("*").eq("customer_code",e(M)).single();!p&&d?d.card_status==="registered"&&d.full_name?(t(j,"login"),ee=d,t(R,"Welcome back! Redirecting to dashboard...")):(t(j,"register"),ee=d):(t(j,"register"),ee=null)}catch(n){console.error("Eligibility check error:",n),t(_,"An error occurred while checking eligibility. Please try again.")}finally{t(y,!1)}}async function qt(){if(!e(Ne)){t(_,"Please enter your password");return}t(y,!0),t(_,"");try{if(ee&&ee.password===e(Ne)){const n={mobile:e(M),name:ee.full_name,email:ee.email,loginTime:new Date().toISOString()};Et(n),Ve("/dashboard")}else t(_,"Incorrect password. Please try again.")}catch{t(_,"Login failed. Please check your credentials.")}finally{t(y,!1)}}async function zt(){if(t(_,""),t(y,!0),t(q,!0),!e(Be)){t(_,"You must accept the Terms & Conditions to proceed"),t(y,!1),t(q,!1);return}if(!e(W)||!String(e(W)).trim()){t(_,"Please enter your full name"),t(y,!1),t(q,!1);return}if(!e(K)||!String(e(K)).trim()){t(_,"Please enter your place/area"),t(y,!1),t(q,!1);return}if(!e(ce)){t(_,"Please select your nearest branch"),t(y,!1),t(q,!1);return}if(!e(Z)||e(Z).length<6){t(_,"Password must be at least 6 characters"),t(y,!1),t(q,!1);return}if(e(Z)!==e(Ue)){t(_,"Passwords do not match"),t(y,!1),t(q,!1);return}if(String(e(de)||"").trim()!==e(Ie)){t(_,"Incorrect captcha answer. Please try again."),$e(),t(y,!1),t(q,!1);return}try{const l=setTimeout(()=>{throw new Error("Registration timeout - operation took too long")},15e3);t(R,"Creating your account...");const d=new Date().getFullYear(),p=new Date(d,11,31,23,59,59);t(R,"Saving your details...");const v={customer_code:e(M),mobile:e(M),phone:e(M),card_number:e(M),name:String(e(W)||"").trim(),full_name:String(e(W)||"").trim(),email:String(e(K)||"").trim(),password:e(Z),branch_id:parseInt(e(ce)),card_type:"bronze",card_status:"registered",status:"active",points:0,total_points:0,valid_until:p.toISOString().split("T")[0],joined_at:new Date().toISOString(),registration_date:new Date().toISOString()};console.log("📝 Preparing customer record:",v),console.log("🎯 BULLETPROOF REGISTRATION: Always check for existing customer first");const{data:h,error:x}=await ie.from("customers").select("*").eq("customer_code",e(M));console.log("🔍 Pre-registration check:",{existingCustomers:h,checkError:x,count:h?.length||0});let C=!1,f=null,P,b;if(h&&h.length>0?(f=h[0],console.log("📋 Found existing customer:",{id:f.id,card_status:f.card_status,full_name:f.full_name}),f.card_status==="unregistered"||!f.full_name||String(f.full_name||"").trim()===""?(C=!0,console.log("✅ Will UPDATE existing unregistered customer")):console.log("⚠️ Customer already registered, this should not happen")):console.log("✅ No existing customer found, will INSERT new customer"),C&&f){console.log("🔄 UPDATING existing customer:",f.id);const B=await ie.from("customers").update({full_name:String(e(W)||"").trim(),name:String(e(W)||"").trim(),email:String(e(K)||"").trim(),password:e(Z),branch_id:parseInt(e(ce)),card_status:"registered",status:"active",registration_date:new Date().toISOString(),updated_at:new Date().toISOString(),valid_until:p.toISOString().split("T")[0]}).eq("id",f.id).select().single();P=B.data,b=B.error,console.log("📊 UPDATE result:",{data:P,insertError:b})}else{console.log("🚀 INSERTING new customer");const B=await ie.from("customers").insert(v).select().single();P=B.data,b=B.error,console.log("📊 INSERT result:",{data:P,insertError:b})}if(clearTimeout(l),b)throw console.error("❌ Database operation failed:",b),new Error(`Registration failed: ${b.message}`);console.log("✅ Customer record created successfully:",P),t(R,"Activating your loyalty card...");const{error:I}=await ie.from("customer_numbers").update({status:"registered",uploaded_at:new Date().toISOString()}).eq("customer",e(M));I&&console.warn("Failed to update customer_numbers status:",I),t(R,"Finalizing registration..."),await new Promise(B=>setTimeout(B,200));const F={mobile:e(M),name:String(e(W)||"").trim(),email:String(e(K)||"").trim(),loginTime:new Date().toISOString()};Et(F),t(j,"success"),t(q,!1),setTimeout(()=>{Ve("/dashboard")},1500)}catch(l){console.error("❌ Registration error:",l),l.message?.includes("duplicate key")?t(_,"This mobile number is already registered. Please try logging in instead."):t(_,`Registration failed: ${l.message||"Unknown error. Please try again."}`),t(q,!1)}finally{t(y,!1)}}let me=u(!1),z=u(null),ye=u([]),Ge=u("https://wa.me/966112345678"),E=u(0);const Ft={en:{title:"Urban Market Loyalty",mobileNumber:"Mobile Number",mobilePlaceholder:"05XXXXXXXX",checkEligibility:"Check Eligibility",loading:"Checking...",registrationForm:"Complete Your Registration",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",place:"Place / Area",placePlaceholder:"Enter your area or city",nearestBranch:"Select Nearest Branch",selectBranch:"Choose your preferred branch",createCard:"Create My Card",enterPassword:"Enter Password",confirmPassword:"Confirm Password",passwordPlaceholder:"Enter a secure password (min 6 characters)",confirmPasswordPlaceholder:"Re-enter your password",securityVerification:"Security Verification",solveMath:"Solve this math problem:",captchaPlaceholder:"Enter your answer",refreshCaptcha:"🔄 New Question",termsCheckbox:"I have read and agree to the",termsAndConditions:"Terms & Conditions",welcomeBack:"Welcome Back!",enterYourPassword:"Enter your password to continue",loginButton:"Login to Dashboard",success:"Registration Successful!",successMessage:"Your loyalty card has been created successfully.",goToDashboard:"Go to Dashboard",backToCheck:"Back to Check",contactUs:"Contact Us",needHelp:"Need help? Contact our support team",phone:"Phone",email:"Email",address:"Address",chatWhatsApp:"Chat on WhatsApp",readTerms:"Read Terms",needHelpLogin:"Need help with login?",termsAndConditionsTitle:"Terms and Conditions",loadingTerms:"Loading terms...",enterPasswordPlaceholder:"Enter your password"},ar:{title:"برنامج ولاء ايربن ماركت",mobileNumber:"رقم الجوال",mobilePlaceholder:"05XXXXXXXX",checkEligibility:"تحقق من الأهلية",loading:"جاري التحقق...",registrationForm:"أكمل تسجيلك",fullName:"الاسم الكامل",fullNamePlaceholder:"أدخل اسمك الكامل",place:"المكان / المنطقة",placePlaceholder:"أدخل منطقتك أو مدينتك",nearestBranch:"اختر أقرب فرع",selectBranch:"اختر الفرع المفضل لديك",createCard:"إنشاء بطاقتي",enterPassword:"أدخل كلمة المرور",confirmPassword:"تأكيد كلمة المرور",passwordPlaceholder:"أدخل كلمة مرور آمنة (6 أحرف على الأقل)",confirmPasswordPlaceholder:"أعد إدخال كلمة المرور",securityVerification:"التحقق الأمني",solveMath:"حل هذه المسألة الرياضية:",captchaPlaceholder:"أدخل إجابتك",refreshCaptcha:"🔄 سؤال جديد",termsCheckbox:"لقد قرأت ووافقت على",termsAndConditions:"الشروط والأحكام",welcomeBack:"مرحباً بعودتك!",enterYourPassword:"أدخل كلمة المرور للمتابعة",loginButton:"تسجيل الدخول للوحة التحكم",success:"تم التسجيل بنجاح!",successMessage:"تم إنشاء بطاقة الولاء الخاصة بك بنجاح.",goToDashboard:"اذهب إلى لوحة التحكم",backToCheck:"العودة للتحقق",contactUs:"اتصل بنا",needHelp:"تحتاج مساعدة؟ اتصل بفريق الدعم",phone:"الهاتف",email:"البريد الإلكتروني",address:"العنوان",chatWhatsApp:"محادثة واتساب",readTerms:"اقرأ الشروط",needHelpLogin:"تحتاج مساعدة في تسجيل الدخول؟",termsAndConditionsTitle:"الشروط والأحكام",loadingTerms:"جارٍ تحميل الشروط...",enterPasswordPlaceholder:"أدخل كلمة المرور"}};Oe(()=>e(M),()=>{t(We,e(M).length===10&&e(M).startsWith("05"))}),Oe(()=>(e(z),e(A),mt),()=>{if(e(z)){const n=e(z)[e(A)]||e(z).en;t(ye,mt(n,10))}}),Oe(()=>(e(de),e(Ie)),()=>{t(gt,e(de)===e(Ie))}),Oe(()=>e(A),()=>{t(o,Ft[e(A)])}),cr(),pr();var ge=Dr(),pt=a(ge),Le=a(pt);let ht;var Qe=a(Le),bt=a(Qe),Je=a(bt),xt=s(Je,2);r(bt),r(Qe);var Ke=s(Qe,2),_t=s(a(Ke),2),Ht=a(_t,!0);r(_t),r(Ke);var yt=s(Ke,2);{var Ot=n=>{var l=kr(),d=ne(l),p=a(d),v=a(p),h=a(v,!0);r(v);var x=s(v,2),C=s(a(x),2);J(C),fr(C,w=>t(Me,w),()=>e(Me)),r(x),r(p);var f=s(p,2),P=a(f);{var b=w=>{var L=br(),re=s(a(L));r(L),k(()=>c(re,` ${e(R),e(o),i(()=>e(R)||e(o).loading)??""}`)),g(w,L)},I=w=>{var L=xe();k(()=>c(L,`${e(o),i(()=>e(o).checkEligibility)??""} →`)),g(w,L)};N(P,w=>{e(y)?w(b):w(I,!1)})}r(f),r(d);var F=s(d,2);let B;var te=a(F),De=s(a(te),2),we=a(De,!0);r(De),r(te);var O=s(te,2),Re=a(O),Xe=s(a(Re),2),ke=a(Xe,!0);r(Xe),r(Re),r(O);var G=s(O,2),je=a(G),fe=s(a(je),2),Ce=a(fe,!0);r(fe),r(je),r(G);var Pe=s(G,2);{var et=w=>{var L=wr(),re=a(L);{var tt=V=>{var ae=_r(),H=ne(ae),Te=a(H,!0);r(H);var U=s(H,2);ct(U,5,()=>e(ye),dt,(oe,Q)=>{var pe=xr(),he=a(pe),Se=a(he);r(he);var rt=s(he);r(pe),k(()=>{c(Se,`${e(Q),i(()=>e(Q).title)??""}:`),c(rt,` ${e(Q),i(()=>e(Q).content)??""}`)}),g(oe,pe)}),r(U),k(()=>c(Te,(e(z),e(A),e(o),i(()=>e(z)[e(A)]?.title||e(o).termsAndConditionsTitle)))),g(V,ae)},qe=V=>{var ae=yr(),H=ne(ae),Te=a(H,!0);r(H);var U=s(H,2),oe=a(U,!0);r(U),k(()=>{c(Te,(e(o),i(()=>e(o).termsAndConditionsTitle))),c(oe,(e(o),i(()=>e(o).loadingTerms)))}),g(V,ae)};N(re,V=>{e(z)?V(tt):V(qe,!1)})}r(L),g(w,L)};N(Pe,w=>{e(me)&&w(et)})}r(F),k(w=>{c(h,(e(o),i(()=>e(o).mobileNumber))),$(C,"placeholder",(e(o),i(()=>e(o).mobilePlaceholder))),f.disabled=!e(We)||e(y),B=_e(F,1,"mt-10 p-5 bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl border border-green-100 transform transition-all duration-500 delay-700",null,B,w),c(we,(e(o),i(()=>e(o).needHelpLogin))),$(O,"href",e(Ge)),c(ke,(e(o),i(()=>e(o).chatWhatsApp))),c(Ce,(e(o),i(()=>e(o).readTerms)))},[()=>({"opacity-100":e(X),"opacity-0":!e(X),"translate-y-2":!e(X)})]),le(C,()=>e(M),w=>t(M,w)),D("input",C,Xt),D("submit",d,ut(jt)),D("click",G,()=>t(me,!e(me))),g(n,l)};N(yt,n=>{e(j)==="check"&&n(Ot)})}var wt=s(yt,2);{var Vt=n=>{var l=Mr(),d=a(l),p=a(d,!0);r(d);var v=s(d,2),h=a(v),x=a(h),C=a(x,!0);r(x);var f=s(x,2);J(f),r(h);var P=s(h,2),b=a(P),I=a(b,!0);r(b);var F=s(b,2);J(F),r(P);var B=s(P,2),te=a(B),De=a(te,!0);r(te);var we=s(te,2);k(()=>{e(ce),mr(()=>{e(o),e(Ye),e(A)})});var O=a(we),Re=a(O,!0);r(O),O.value=O.__value="";var Xe=s(O);ct(Xe,1,()=>e(Ye),dt,(m,T)=>{var Y=Cr(),ot=a(Y,!0);r(Y);var Fe={};k(()=>{c(ot,(e(A),e(T),i(()=>e(A)==="ar"?e(T).nameAr:e(T).name))),Fe!==(Fe=(e(T),i(()=>e(T).id)))&&(Y.value=(Y.__value=(e(T),i(()=>e(T).id)))??"")}),g(m,Y)}),r(we),r(B);var ke=s(B,2),G=a(ke),je=a(G,!0);r(G);var fe=s(G,2);J(fe),r(ke);var Ce=s(ke,2),Pe=a(Ce),et=a(Pe,!0);r(Pe);var w=s(Pe,2);J(w),r(Ce);var L=s(Ce,2),re=a(L),tt=s(a(re));r(re);var qe=s(re,2),V=a(qe),ae=a(V,!0);r(V);var H=s(V,4);J(H);var Te=s(H,2);r(qe),r(L);var U=s(L,2),oe=a(U),Q=a(oe);J(Q);var pe=s(Q,2),he=a(pe),Se=s(he),rt=a(Se,!0);r(Se),r(pe),r(oe);var Zt=s(oe,2);{var er=m=>{var T=Ar(),Y=a(T);{var ot=be=>{var Ae=Tr(),se=ne(Ae),st=a(se,!0);r(se);var Ee=s(se,2);ct(Ee,5,()=>(e(ye),i(()=>e(ye).slice(0,8))),dt,(nt,He)=>{var lt=Pr(),it=a(lt),sr=a(it);r(it);var nr=s(it);r(lt),k(()=>{c(sr,`${e(He),i(()=>e(He).title)??""}:`),c(nr,` ${e(He),i(()=>e(He).content)??""}`)}),g(nt,lt)}),r(Ee),k(()=>c(st,(e(z),e(A),e(o),i(()=>e(z)[e(A)]?.title||e(o).termsAndConditionsTitle)))),g(be,Ae)},Fe=be=>{var Ae=Sr(),se=ne(Ae),st=a(se,!0);r(se);var Ee=s(se,2),nt=a(Ee,!0);r(Ee),k(()=>{c(st,(e(o),i(()=>e(o).termsAndConditionsTitle))),c(nt,(e(o),i(()=>e(o).loadingTerms)))}),g(be,Ae)};N(Y,be=>{e(z)?be(ot):be(Fe,!1)})}r(T),g(m,T)};N(Zt,m=>{e(me)&&m(er)})}r(U);var ze=s(U,2),tr=a(ze);{var rr=m=>{var T=Er(),Y=s(a(T));r(T),k(()=>c(Y,` ${e(R)??""}`)),g(m,T)},ar=m=>{var T=xe();k(()=>c(T,(e(o),i(()=>e(o).createCard)))),g(m,T)};N(tr,m=>{e(y)?m(rr):m(ar,!1)})}r(ze);var at=s(ze,2),or=a(at);r(at),r(v),r(l),k(()=>{c(p,(e(o),i(()=>e(o).registrationForm))),c(C,(e(o),i(()=>e(o).fullName))),$(f,"placeholder",(e(o),i(()=>e(o).fullNamePlaceholder))),c(I,(e(o),i(()=>e(o).place))),$(F,"placeholder",(e(o),i(()=>e(o).placePlaceholder))),c(De,(e(o),i(()=>e(o).nearestBranch))),c(Re,(e(o),i(()=>e(o).selectBranch))),c(je,(e(o),i(()=>e(o).enterPassword))),$(fe,"placeholder",(e(o),i(()=>e(o).passwordPlaceholder))),c(et,(e(o),i(()=>e(o).confirmPassword))),$(w,"placeholder",(e(o),i(()=>e(o).confirmPasswordPlaceholder))),c(tt,` ${e(o),i(()=>e(o).securityVerification)??""}`),c(ae,e(vt)),c(he,`${e(o),i(()=>e(o).termsCheckbox)??""} `),c(rt,(e(o),i(()=>e(o).termsAndConditions))),ze.disabled=!e(Be)||e(y)||!e(gt),c(or,`← ${e(o),i(()=>e(o).backToCheck)??""}`)}),le(f,()=>e(W),m=>t(W,m)),le(F,()=>e(K),m=>t(K,m)),vr(we,()=>e(ce),m=>t(ce,m)),le(fe,()=>e(Z),m=>t(Z,m)),le(w,()=>e(Ue),m=>t(Ue,m)),le(H,()=>e(de),m=>t(de,m)),D("click",Te,$e),gr(Q,()=>e(Be),m=>t(Be,m)),D("click",Se,()=>t(me,!e(me))),D("click",at,()=>t(j,"check")),D("submit",v,ut(zt)),g(n,l)};N(wt,n=>{e(j)==="register"&&n(Vt)})}var kt=s(wt,2);{var Wt=n=>{var l=Br(),d=a(l),p=a(d,!0);r(d);var v=s(d,2),h=a(v,!0);r(v);var x=s(v,2),C=a(x),f=a(C);J(f),r(C);var P=s(C,2),b=a(P,!0);r(P);var I=s(P,2),F=a(I);r(I),r(x),r(l),k(()=>{c(p,(e(o),i(()=>e(o).welcomeBack))),c(h,(e(o),i(()=>e(o).enterYourPassword))),$(f,"placeholder",(e(o),i(()=>e(o).enterPasswordPlaceholder))),P.disabled=e(y),c(b,(e(o),i(()=>e(o).loginButton))),c(F,`← ${e(o),i(()=>e(o).backToCheck)??""}`)}),le(f,()=>e(Ne),B=>t(Ne,B)),D("click",I,()=>t(j,"check")),D("submit",x,ut(qt)),g(n,l)};N(kt,n=>{e(j)==="login"&&n(Wt)})}var Ct=s(kt,2);{var Ut=n=>{var l=Nr(),d=s(a(l),2),p=a(d,!0);r(d);var v=s(d,2),h=a(v,!0);r(v);var x=s(v,2),C=a(x,!0);r(x),r(l),k(()=>{c(p,(e(o),i(()=>e(o).success))),c(h,(e(o),i(()=>e(o).successMessage))),c(C,(e(o),i(()=>e(o).goToDashboard)))}),D("click",x,()=>Ve("/dashboard")),g(n,l)};N(Ct,n=>{e(j)==="success"&&n(Ut)})}var Pt=s(Ct,2);{var Yt=n=>{var l=Ir(),d=a(l),p=s(a(d),2),v=a(p,!0);r(p),r(d),r(l),k(()=>c(v,e(_))),g(n,l)};N(Pt,n=>{e(_)&&n(Yt)})}var $t=s(Pt,2);{var Gt=n=>{var l=Lr(),d=a(l),p=s(a(d),2),v=a(p,!0);r(p),r(d),r(l),k(()=>c(v,e(R))),g(n,l)};N($t,n=>{e(q)&&e(R)&&n(Gt)})}r(Le);var Ze=s(Le,2);let Tt;var St=a(Ze),ve=a(St),Qt=a(ve);{var Jt=n=>{var l=xe("😈");g(n,l)},Kt=n=>{var l=At(),d=ne(l);{var p=h=>{var x=xe("😏");g(h,x)},v=h=>{var x=At(),C=ne(x);{var f=b=>{var I=xe("🤔");g(b,I)},P=b=>{var I=xe("😊");g(b,I)};N(C,b=>{e(E)>=5?b(f):b(P,!1)},!0)}g(h,x)};N(d,h=>{e(E)>=7?h(p):h(v,!1)},!0)}g(n,l)};N(Qt,n=>{e(E)>=9?n(Jt):n(Kt,!1)})}r(ve),r(St),r(Ze),r(pt),r(ge),k((n,l)=>{$(ge,"dir",e(A)==="ar"?"rtl":"ltr"),ht=_e(Le,1,"bg-white rounded-3xl shadow-2xl p-8 transform transition-all duration-700 delay-200",null,ht,n),_e(Je,1,`px-4 py-2 text-sm font-medium rounded-full transition-all duration-200 ${e(A)==="en"?"bg-white text-gray-900 shadow-md":"text-gray-500 hover:text-gray-700"}`),_e(xt,1,`px-4 py-2 text-sm font-medium rounded-full transition-all duration-200 ${e(A)==="ar"?"bg-white text-gray-900 shadow-md":"text-gray-500 hover:text-gray-700"}`),c(Ht,(e(o),i(()=>e(o).title))),Tt=_e(Ze,1,"text-center mt-8 transform transition-all duration-500 delay-300",null,Tt,l),_e(ve,1,`text-3xl cursor-pointer hover:scale-125 transition-transform duration-300 select-none ${e(E)>=5?"animate-pulse":""} ${e(E)>=8?"text-orange-500":""}`),$(ve,"title",e(E)>0?`${e(E)}/10 clicks`:"😊"),ge.dir=ge.dir},[()=>({"translate-y-0":e(X),"translate-y-4":!e(X),"opacity-100":e(X),"opacity-0":!e(X)}),()=>({"translate-y-0":e(X),"translate-y-4":!e(X),"opacity-100":e(X),"opacity-0":!e(X)})]),D("click",Je,()=>t(A,"en")),D("click",xt,()=>t(A,"ar")),D("click",ve,ft),D("keydown",ve,n=>n.key==="Enter"&&ft()),g(Bt,ge),dr()}export{ea as component};
