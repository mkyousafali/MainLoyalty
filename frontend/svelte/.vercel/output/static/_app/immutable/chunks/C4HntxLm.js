import{aD as k,a5 as i,a8 as w,a6 as m,aG as x,u as g,N as b,Z as n,aH as C,aF as E}from"./Ck91ypkQ.js";function D(e,c,r=c){var v=x(),d=new WeakSet;k(e,"input",f=>{var a=f?e.defaultValue:e.value;if(a=u(e)?t(a):a,r(a),n!==null&&d.add(n),v&&a!==(a=c())){var s=e.selectionStart,o=e.selectionEnd;e.value=a??"",o!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(o,e.value.length))}}),(b&&e.defaultValue!==e.value||g(c)==null&&e.value)&&(r(u(e)?t(e.value):e.value),n!==null&&d.add(n)),i(()=>{var f=c();if(e===document.activeElement){var a=C??n;if(d.has(a))return}u(e)&&f===t(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}const h=new Set;function V(e,c,r,v,d=v){var f=r.getAttribute("type")==="checkbox",a=e;let s=!1;if(c!==null)for(var o of c)a=a[o]??=[];a.push(r),k(r,"change",()=>{var l=r.__value;f&&(l=y(a,l,r.checked)),d(l)},()=>d(f?[]:null)),i(()=>{var l=v();if(b&&r.defaultChecked!==r.checked){s=!0;return}f?(l=l||[],r.checked=l.includes(r.__value)):r.checked=E(r.__value,l)}),w(()=>{var l=a.indexOf(r);l!==-1&&a.splice(l,1)}),h.has(a)||(h.add(a),m(()=>{a.sort((l,_)=>l.compareDocumentPosition(_)===4?-1:1),h.delete(a)})),m(()=>{if(s){var l;if(f)l=y(a,l,r.checked);else{var _=a.find(S=>S.checked);l=_?.__value}d(l)}})}function q(e,c,r=c){k(e,"change",v=>{var d=v?e.defaultChecked:e.checked;r(d)}),(b&&e.defaultChecked!==e.checked||g(c)==null)&&r(e.checked),i(()=>{var v=c();e.checked=!!v})}function y(e,c,r){for(var v=new Set,d=0;d<e.length;d+=1)e[d].checked&&v.add(e[d].__value);return r||v.delete(c),Array.from(v)}function u(e){var c=e.type;return c==="number"||c==="range"}function t(e){return e===""?null:+e}export{D as a,V as b,q as c};
