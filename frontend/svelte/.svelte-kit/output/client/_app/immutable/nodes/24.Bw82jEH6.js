import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{o as ue}from"../chunks/Y1pQyyvi.js";import{l as pe,m,J as me,t as $,x as S,a as e,n as p,o as ge,$ as he,w as r,v as i,y as h,B as b,I as V,s as c,z as s,E as I,K as be,A as G,aJ as fe,aK as ye}from"../chunks/Ck91ypkQ.js";import{i as M}from"../chunks/RujGBxXx.js";import{e as we,i as _e}from"../chunks/D775oJua.js";import{r as R}from"../chunks/DvH4tfbe.js";import{s as H}from"../chunks/B38bOHRo.js";import{a as C}from"../chunks/C4HntxLm.js";import{i as Pe}from"../chunks/6tn_K0LM.js";import"../chunks/qrUVQqOk.js";import{t as q,g as Te}from"../chunks/C4J_Ibb5.js";var Se=m('<span class="loading-spinner svelte-1cgvump">⏳</span> <span>Saving...</span>',1),Ce=m('<span class="icon">💾</span> <span>Save Changes</span>',1),xe=m('<div class="last-updated svelte-1cgvump"><span class="icon">🕒</span> <span> </span></div>'),De=m('<div><span class="icon"> </span> <span> </span></div>'),Ee=m('<div class="section-editor svelte-1cgvump"><div class="section-header"><input type="text" class="section-title-input svelte-1cgvump" placeholder="Section Title"/></div> <div class="section-content"><textarea class="content-textarea svelte-1cgvump" placeholder="Section Content" rows="15"></textarea></div></div>'),Ae=m('<div class="terms-management svelte-1cgvump"><div class="header svelte-1cgvump"><div class="header-content svelte-1cgvump"><div class="header-left svelte-1cgvump"><h1 class="svelte-1cgvump">Terms & Conditions Management</h1> <p class="header-subtitle svelte-1cgvump">Edit and manage the Terms & Conditions for the loyalty program</p></div> <div class="header-actions svelte-1cgvump"><button class="language-toggle svelte-1cgvump" title="Switch Language"><span class="icon">🌐</span> <span> </span></button> <button class="preview-button svelte-1cgvump" title="Preview Terms"><span class="icon">👁️</span> <span>Preview</span></button> <button class="save-button svelte-1cgvump" title="Save Changes"><!></button></div></div> <!></div> <!> <div><div class="editor-header svelte-1cgvump"><h2> </h2> <input type="text" class="title-input svelte-1cgvump" placeholder="Document Title"/> <input type="text" class="subtitle-input svelte-1cgvump" placeholder="Document Subtitle"/></div> <div class="sections-editor svelte-1cgvump"></div> <div class="add-section svelte-1cgvump"><button class="add-section-button svelte-1cgvump"><span class="icon">➕</span> <span>Add New Section</span></button></div></div> <div class="footer-info svelte-1cgvump"><div class="info-card svelte-1cgvump"><h3 class="svelte-1cgvump">💡 Tips for Editing</h3> <ul class="svelte-1cgvump"><li class="svelte-1cgvump">Use bullet points (•) for lists</li> <li class="svelte-1cgvump">Ensure both English and Arabic versions are updated</li> <li class="svelte-1cgvump">Preview changes before saving</li> <li class="svelte-1cgvump">Save regularly to avoid losing changes</li></ul></div> <div class="info-card svelte-1cgvump"><h3 class="svelte-1cgvump">📢 Customer Notifications</h3> <p class="svelte-1cgvump">When you save changes, customers will automatically receive a notification about the Terms & Conditions update.</p></div></div></div>');function We(Q,X){pe(X,!1);let f=h(!1),v=h(""),o=h("en"),y=h(""),n=h({en:{title:"Terms and Conditions",subtitle:"Urban Market Loyalty Program",sections:{section1:{title:"1. Introduction and Acceptance",content:`Welcome to the Urban Market Loyalty Program ("Program"). These Terms and Conditions ("Terms") constitute a legally binding agreement between you ("Customer", "User", "You") and Urban Market Establishment ("Establishment", "We", "Us", "Our"). By participating in the Program, registering for a loyalty card, or using our services, you acknowledge that you have read, understood, and agree to be bound by these Terms.

This Program is governed by the laws of the Kingdom of Saudi Arabia and complies with international standards for consumer protection and data privacy, including GDPR principles where applicable.`},section2:{title:"2. Eligibility and Registration",content:`2.1 Eligibility: The Program is available to individuals who are:
• At least 18 years of age
• Legal residents of Saudi Arabia or GCC countries
• Capable of entering into legally binding contracts under Saudi law

2.2 Registration Requirements:
• Valid mobile phone number
• Accurate personal information
• Consent to these Terms and our Privacy Policy
• Compliance with all applicable laws

2.3 Account Responsibility: You are responsible for maintaining the confidentiality of your account information and for all activities that occur under your account.`},section3:{title:"3. Program Benefits and Points System",content:`3.1 Points Earning: Points are earned based on qualifying purchases at participating Urban Market locations. The earning rate may vary by product category and promotional periods.

3.2 Points Redemption: Points can be redeemed for rewards, discounts, or special offers as specified in the Program guidelines.

3.3 Points Validity: Points are valid until the end of the calendar year in which they were earned, unless extended through qualifying activity.

3.4 Non-Transferability: Points and benefits are non-transferable, non-refundable, and have no cash value except where required by law.`},section4:{title:"4. Data Protection and Privacy",content:`4.1 Data Collection: We collect and process personal data in accordance with Saudi Arabia's Personal Data Protection Law (PDPL) and international best practices.

4.2 Data Usage: Your data is used to:
• Administer the loyalty program
• Provide personalized offers and communications
• Improve our services and customer experience
• Comply with legal obligations

4.3 Data Security: We implement appropriate technical and organizational measures to protect your personal data against unauthorized access, alteration, disclosure, or destruction.

4.4 Your Rights: You have the right to access, correct, delete, or restrict the processing of your personal data, subject to applicable laws.`},section5:{title:"5. User Obligations and Prohibited Activities",content:`5.1 Permitted Use: The Program is for personal, non-commercial use only.

5.2 Prohibited Activities:
• Fraudulent activities or misrepresentation
• Abuse or gaming of the points system
• Violation of any applicable laws or regulations
• Unauthorized access to others' accounts
• Commercial resale of points or benefits

5.3 Compliance: Users must comply with all applicable laws, including but not limited to Saudi commercial law, consumer protection regulations, and anti-money laundering requirements.`}}},ar:{title:"الشروط والأحكام",subtitle:"برنامج ولاء ايربين ماركت",sections:{section1:{title:"1. المقدمة والقبول",content:`مرحباً بكم في برنامج ولاء ايربين ماركت ("البرنامج"). تشكل هذه الشروط والأحكام ("الشروط") اتفاقية ملزمة قانونياً بينكم ("العميل"، "المستخدم"، "أنتم") ومؤسسة ايربين ماركت ("المؤسسة"، "نحن"، "لنا"). من خلال المشاركة في البرنامج أو التسجيل للحصول على بطاقة ولاء أو استخدام خدماتنا، فإنكم تقرون بأنكم قد قرأتم وفهمتم ووافقتم على الالتزام بهذه الشروط.

يخضع هذا البرنامج لقوانين المملكة العربية السعودية ويتوافق مع المعايير الدولية لحماية المستهلك وخصوصية البيانات، بما في ذلك مبادئ اللائحة العامة لحماية البيانات حيثما ينطبق ذلك.`},section2:{title:"2. الأهلية والتسجيل",content:`2.1 الأهلية: البرنامج متاح للأفراد الذين:
• عمرهم 18 سنة على الأقل
• مقيمون قانونيون في المملكة العربية السعودية أو دول مجلس التعاون الخليجي
• قادرون على الدخول في عقود ملزمة قانونياً بموجب القانون السعودي

2.2 متطلبات التسجيل:
• رقم هاتف محمول صالح
• معلومات شخصية دقيقة
• الموافقة على هذه الشروط وسياسة الخصوصية
• الامتثال لجميع القوانين المعمول بها

2.3 مسؤولية الحساب: أنتم مسؤولون عن المحافظة على سرية معلومات حسابكم وعن جميع الأنشطة التي تحدث تحت حسابكم.`},section3:{title:"3. مزايا البرنامج ونظام النقاط",content:`3.1 كسب النقاط: يتم كسب النقاط بناءً على المشتريات المؤهلة في مواقع ايربين ماركت المشاركة. قد يختلف معدل الكسب حسب فئة المنتج والفترات الترويجية.

3.2 استبدال النقاط: يمكن استبدال النقاط للحصول على مكافآت أو خصومات أو عروض خاصة كما هو محدد في إرشادات البرنامج.

3.3 صلاحية النقاط: النقاط صالحة حتى نهاية السنة الميلادية التي تم كسبها فيها، ما لم يتم تمديدها من خلال نشاط مؤهل.

3.4 عدم القابلية للنقل: النقاط والمزايا غير قابلة للنقل أو الاسترداد وليس لها قيمة نقدية إلا حيث يتطلب القانون ذلك.`},section4:{title:"4. حماية البيانات والخصوصية",content:`4.1 جمع البيانات: نحن نجمع ونعالج البيانات الشخصية وفقاً لقانون حماية البيانات الشخصية في المملكة العربية السعودية والممارسات الدولية الأفضل.

4.2 استخدام البيانات: تُستخدم بياناتكم لـ:
• إدارة برنامج الولاء
• تقديم عروض واتصالات مخصصة
• تحسين خدماتنا وتجربة العملاء
• الامتثال للالتزامات القانونية

4.3 أمان البيانات: نحن ننفذ تدابير تقنية وتنظيمية مناسبة لحماية بياناتكم الشخصية من الوصول غير المصرح به أو التغيير أو الكشف أو التدمير.

4.4 حقوقكم: لديكم الحق في الوصول إلى بياناتكم الشخصية أو تصحيحها أو حذفها أو تقييد معالجتها، وفقاً للقوانين المعمول بها.`},section5:{title:"5. التزامات المستخدم والأنشطة المحظورة",content:`5.1 الاستخدام المسموح: البرنامج للاستخدام الشخصي وغير التجاري فقط.

5.2 الأنشطة المحظورة:
• الأنشطة الاحتيالية أو التضليل
• إساءة استخدام أو التلاعب بنظام النقاط
• انتهاك أي قوانين أو لوائح معمول بها
• الوصول غير المصرح به لحسابات الآخرين
• البيع التجاري للنقاط أو المزايا

5.3 الامتثال: يجب على المستخدمين الامتثال لجميع القوانين المعمول بها، بما في ذلك على سبيل المثال لا الحصر القانون التجاري السعودي ولوائح حماية المستهلك ومتطلبات مكافحة غسل الأموال.`}}}});ue(()=>{Z()});function Z(){q.loadTerms(),q.subscribe(t=>{c(n,t)}),Te().then(t=>{t&&c(y,t)}).catch(t=>{console.warn("Failed to get last updated timestamp:",t)})}async function ee(){c(f,!0),c(v,"");try{if(!await q.saveTerms(e(n)))throw new Error("Failed to save terms to database");const a=new Date().toISOString();c(y,a);const d={id:Date.now(),type:"terms_update",title:"Terms & Conditions Updated",message:`Terms and Conditions have been updated on ${new Date(a).toLocaleDateString()}`,timestamp:a,isRead:!1,priority:"medium"},l=JSON.parse(localStorage.getItem("customerNotifications")||"[]");l.unshift(d),localStorage.setItem("customerNotifications",JSON.stringify(l)),c(v,"Terms & Conditions saved successfully to database! All customers will see the updated terms."),setTimeout(()=>{c(v,"")},5e3)}catch(t){console.error("Failed to save terms:",t),c(v,"Error saving Terms & Conditions to database. Please try again.")}finally{c(f,!1)}}function te(){const t={termsContent:e(n),lastUpdated:new Date().toISOString()};typeof window<"u"&&(sessionStorage.setItem("termsPreviewData",JSON.stringify(t)),window.open("/terms-conditions?preview=true","_blank"))}function ae(){c(o,e(o)==="en"?"ar":"en")}Pe();var x=Ae();me(t=>{he.title="Terms & Conditions Management - Admin Panel"});var D=i(x),E=i(D),z=r(i(E),2),w=i(z),J=r(i(w),2),se=i(J,!0);s(J),s(w);var W=r(w,2),_=r(W,2),ie=i(_);{var ne=t=>{var a=Se();I(2),p(t,a)},oe=t=>{var a=Ce();I(2),p(t,a)};M(ie,t=>{e(f)?t(ne):t(oe,!1)})}s(_),s(z),s(E);var re=r(E,2);{var le=t=>{var a=xe(),d=r(i(a),2),l=i(d);s(d),s(a),$(u=>b(l,`Last updated: ${u??""}`),[()=>new Date(e(y)).toLocaleString()]),p(t,a)};M(re,t=>{e(y)&&t(le)})}s(D);var Y=r(D,2);{var ce=t=>{var a=De(),d=i(a),l=i(d,!0);s(d);var u=r(d,2),g=i(u,!0);s(u),s(a),$((P,T)=>{H(a,1,`save-message ${P??""}`,"svelte-1cgvump"),b(l,T),b(g,e(v))},[()=>e(v).includes("Error")?"error":"success",()=>e(v).includes("Error")?"⚠️":"✅"]),p(t,a)};M(Y,t=>{e(v)&&t(ce)})}var A=r(Y,2);let j;var U=i(A),k=i(U),de=i(k,!0);s(k);var L=r(k,2);R(L);var F=r(L,2);R(F),s(U);var N=r(U,2);we(N,5,()=>Object.entries(e(n)[e(o)].sections),_e,(t,a)=>{var d=fe(()=>ye(e(a),2));let l=()=>e(d)[1];var u=Ee(),g=i(u),P=i(g);R(P),s(g);var T=r(g,2),B=i(T);be(B),s(T),s(u),C(P,()=>l().title,O=>(l().title=O,G(()=>(e(n),e(o))))),C(B,()=>l().content,O=>(l().content=O,G(()=>(e(n),e(o))))),p(t,u)}),s(N);var K=r(N,2),ve=i(K);s(K),s(A),I(2),s(x),$(t=>{b(se,e(o)==="en"?"العربية":"English"),_.disabled=e(f),j=H(A,1,"content-editor svelte-1cgvump",null,j,t),b(de,e(n)[e(o)].title)},[()=>({rtl:e(o)==="ar"})]),S("click",w,ae),S("click",W,te),S("click",_,ee),C(L,()=>e(n)[e(o)].title,t=>V(n,e(n)[e(o)].title=t)),C(F,()=>e(n)[e(o)].subtitle,t=>V(n,e(n)[e(o)].subtitle=t)),S("click",ve,()=>{const t=`section${Object.keys(e(n)[e(o)].sections).length+1}`,a=e(n)[e(o)].sections;a[t]={title:`${Object.keys(e(n)[e(o)].sections).length+1}. New Section`,content:"Enter section content here..."},c(n,e(n))}),p(Q,x),ge()}export{We as component};
