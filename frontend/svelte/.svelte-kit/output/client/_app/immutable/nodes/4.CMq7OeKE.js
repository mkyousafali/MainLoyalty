import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{o as Kr}from"../chunks/Y1pQyyvi.js";import{l as Xr,q as de,r as Yr,m as C,n as y,o as Zr,s as j,y as P,I as $,a as e,w as o,v as t,z as r,C as sr,E as nr,t as z,u as n,B as d,H as $r,x as q}from"../chunks/Ck91ypkQ.js";import{i as T}from"../chunks/RujGBxXx.js";import{e as et,i as rt}from"../chunks/D775oJua.js";import{s as l}from"../chunks/B38bOHRo.js";import{i as tt}from"../chunks/6tn_K0LM.js";import{g as lr}from"../chunks/Bc_wzfnz.js";import{s as Ee}from"../chunks/CIOq__Tp.js";var at=C('<div class="flex items-center justify-center min-h-screen"><div class="text-center"><div class="animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4 svelte-1dz7lvo"></div> <p class="text-gray-600">Checking authentication...</p></div></div>'),ot=C('<span class="text-sm text-gray-400 bg-gray-100 px-3 py-1 rounded-full"> </span>'),st=C('<div class="text-right"><p class="text-sm font-medium text-gray-600"> </p> <p class="text-xs text-gray-400 capitalize">Master Admin</p></div>'),nt=C('<div><div class="animate-pulse bg-gray-300 h-6 w-16 rounded"></div></div>'),lt=C("<p>Error</p>"),it=C("<p> </p>"),dt=C('<div class="bg-white shadow-md rounded-2xl p-6 flex items-center space-x-4 hover:shadow-lg transition-all duration-200"><div><span class="text-xl"> </span></div> <div class="flex-1"><p> </p> <!></div></div>'),vt=C('<div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-xl"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><span class="text-red-500 text-xl">⚠️</span> <p class="text-red-700 font-medium"> </p></div> <button class="px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg font-medium transition-all duration-200">🔄 Retry</button></div></div>'),ut=C('<div class="px-6 pb-6"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"><a href="/admin/upload-customers" class="group bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 hover:from-blue-100 hover:to-blue-200 transition-all duration-200 cursor-pointer block border border-blue-200 hover:border-blue-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-blue-600">👥</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a> <a href="/admin/manage-branches" class="group bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-5 hover:from-red-100 hover:to-red-200 transition-all duration-200 cursor-pointer block border border-red-200 hover:border-red-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-red-600">🏢</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a> <a href="/admin/customer-management" class="group bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 hover:from-green-100 hover:to-green-200 transition-all duration-200 cursor-pointer block border border-green-200 hover:border-green-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-green-600">👤</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a></div></div>'),ct=C('<div class="px-6 pb-6"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"><a href="/admin/upload-transactions" class="group bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 hover:from-green-100 hover:to-green-200 transition-all duration-200 cursor-pointer block border border-green-200 hover:border-green-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-green-600">📊</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a></div></div>'),pt=C('<div class="px-6 pb-6"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div></div>'),mt=C('<div class="px-6 pb-6"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"><a href="/admin/notification-center" class="group bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 hover:from-purple-100 hover:to-purple-200 transition-all duration-200 cursor-pointer block border border-purple-200 hover:border-purple-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-purple-600">🔔</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a></div></div>'),gt=C('<div class="px-6 pb-6"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"><a href="/admin/analytics-reports" class="group bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 hover:from-purple-100 hover:to-purple-200 transition-all duration-200 cursor-pointer block border border-purple-200 hover:border-purple-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-purple-600">📈</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a> <a href="/admin/export-data" class="group bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 hover:from-blue-100 hover:to-blue-200 transition-all duration-200 cursor-pointer block border border-blue-200 hover:border-blue-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-blue-600">📤</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a></div></div>'),xt=C('<div class="px-6 pb-6"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"><a href="/admin/user-management" class="group bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-5 hover:from-indigo-100 hover:to-indigo-200 transition-all duration-200 cursor-pointer block border border-indigo-200 hover:border-indigo-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-indigo-600">👥</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a> <a href="/admin/password-reset" class="group bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-5 hover:from-orange-100 hover:to-orange-200 transition-all duration-200 cursor-pointer block border border-orange-200 hover:border-orange-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-orange-600">🔑</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a> <a href="/admin/user-reports" class="group bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl p-5 hover:from-teal-100 hover:to-teal-200 transition-all duration-200 cursor-pointer block border border-teal-200 hover:border-teal-300 hover:shadow-md"><div><div class="p-2 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow duration-200"><span class="text-lg text-teal-600">📋</span></div> <div class="flex-1 min-w-0"><h4> </h4> <p> </p></div></div></a></div></div>'),ht=C('<div class="flex justify-between items-center mb-8 pr-6"><div class="flex-1"><h1> </h1> <div><p> </p> <!></div></div> <div class="flex items-center space-x-6"><!> <button class="bg-green-600 text-white px-4 py-2 rounded-xl font-medium hover:bg-green-700 transition-all duration-200 flex items-center space-x-2 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"><span> </span> <span>Refresh Data</span></button> <button class="bg-indigo-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-indigo-700 transition-all duration-200 flex items-center space-x-2 shadow-md hover:shadow-lg"><span> </span> <span> </span></button></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"></div> <!> <div class="mb-8"><h2> </h2> <div class="bg-white rounded-2xl shadow-lg border border-gray-100 mb-6 overflow-hidden"><button class="w-full px-6 py-5 text-left flex items-center justify-between hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-200 bg-gradient-to-r from-gray-50 to-gray-100"><h3 class="text-lg font-semibold text-gray-800 flex items-center space-x-3"><span class="text-blue-600">🏢</span> <span> </span></h3> <span> </span></button> <!></div> <div class="bg-white rounded-2xl shadow-lg border border-gray-100 mb-6 overflow-hidden"><button class="w-full px-6 py-5 text-left flex items-center justify-between hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 transition-all duration-200 bg-gradient-to-r from-gray-50 to-gray-100"><h3 class="text-lg font-semibold text-gray-800 flex items-center space-x-3"><span class="text-green-600">💰</span> <span> </span></h3> <span> </span></button> <!></div> <div class="bg-white rounded-2xl shadow-lg border border-gray-100 mb-6 overflow-hidden"><button class="w-full px-6 py-5 text-left flex items-center justify-between hover:bg-gradient-to-r hover:from-yellow-50 hover:to-orange-50 transition-all duration-200 bg-gradient-to-r from-gray-50 to-gray-100"><h3 class="text-lg font-semibold text-gray-800 flex items-center space-x-3"><span class="text-yellow-600">🎫</span> <span> </span></h3> <span> </span></button> <!></div> <div class="bg-white rounded-2xl shadow-lg border border-gray-100 mb-6 overflow-hidden"><button class="w-full px-6 py-5 text-left flex items-center justify-between hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 transition-all duration-200 bg-gradient-to-r from-gray-50 to-gray-100"><h3 class="text-lg font-semibold text-gray-800 flex items-center space-x-3"><span class="text-purple-600">💬</span> <span> </span></h3> <span> </span></button> <!></div> <div class="bg-white rounded-2xl shadow-lg border border-gray-100 mb-6 overflow-hidden"><button class="w-full px-6 py-5 text-left flex items-center justify-between hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 transition-all duration-200 bg-gradient-to-r from-gray-50 to-gray-100"><h3 class="text-lg font-semibold text-gray-800 flex items-center space-x-3"><span class="text-purple-600">📊</span> <span> </span></h3> <span> </span></button> <!></div> <div class="bg-white rounded-2xl shadow-lg border border-gray-100 mb-6 overflow-hidden"><button class="w-full px-6 py-5 text-left flex items-center justify-between hover:bg-gradient-to-r hover:from-indigo-50 hover:to-blue-50 transition-all duration-200 bg-gradient-to-r from-gray-50 to-gray-100"><h3 class="text-lg font-semibold text-gray-800 flex items-center space-x-3"><span class="text-indigo-600">⚙️</span> <span> </span></h3> <span> </span></button> <!></div></div>',1),bt=C('<div class="min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 relative overflow-hidden"><div class="absolute inset-0 bg-grid-pattern opacity-10 pointer-events-none svelte-1dz7lvo"></div> <div class="absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"></div> <div class="absolute bottom-0 left-0 w-80 h-80 bg-gradient-to-tr from-green-400/20 to-cyan-400/20 rounded-full blur-3xl transform -translate-x-1/2 translate-y-1/2"></div> <div class="relative z-10 p-6 max-w-7xl mx-auto"><!></div></div>');function Mt(ir,dr){Xr(dr,!1);const a=P(),G=P(),Fe=P(),vr=P();let s="en",Pe=P(!1),K=P(null),_=P({totalCustomers:0,activeCards:0,rewardsRedeemed:0,totalRevenue:0}),M=P(!0),X=P(""),ee=P(null);Kr(async()=>{const p=localStorage.getItem("adminSession"),R=localStorage.getItem("adminUser");if(p==="active"&&R)try{j(K,JSON.parse(R)),j(Pe,!0),await ve()}catch{localStorage.removeItem("adminSession"),localStorage.removeItem("adminUser"),lr("/admin-login")}else lr("/admin-login")});async function ve(){try{j(M,!0),j(X,""),console.log("📊 Loading dashboard statistics...");const[p,R,N]=await Promise.allSettled([Ee.from("customer_numbers").select("*",{count:"exact",head:!0}),Ee.from("customer_transactions").select("amount, redeem, created_at").order("created_at",{ascending:!1}),Ee.from("customers").select("id, card_status, points, total_points, created_at").order("created_at",{ascending:!1})]);if(p.status==="fulfilled"&&!p.value.error){const U=p.value.count||0;$(_,e(_).totalCustomers=U),console.log("✅ Customer numbers count loaded:",{total:e(_).totalCustomers,count:U})}else console.warn("⚠️ Failed to fetch customer_numbers count:",p),p.status==="fulfilled"&&console.error("Supabase error:",p.value.error);if(R.status==="fulfilled"&&!R.value.error){const U=R.value.data||[];$(_,e(_).totalRevenue=U.reduce((E,Y)=>{const H=parseFloat(Y.amount)||0;return E+Math.abs(H)},0)),$(_,e(_).rewardsRedeemed=U.reduce((E,Y)=>{const H=parseFloat(Y.redeem)||0;return E+Math.abs(H)},0)),console.log("✅ Customer transactions loaded:",{transactions:U.length,revenue:e(_).totalRevenue,rewardsRedeemed:e(_).rewardsRedeemed})}else console.warn("⚠️ Failed to fetch customer_transactions data:",R);if(N.status==="fulfilled"&&!N.value.error){const U=N.value.data||[];$(_,e(_).activeCards=U.filter(E=>E.card_status==="registered"||E.card_status==="active").length),console.log("✅ Customer active cards loaded:",{active:e(_).activeCards})}else console.warn("⚠️ Failed to fetch customers data:",N);console.log("📊 Final dashboard stats:",e(_)),j(ee,new Date)}catch(p){console.error("❌ Failed to load dashboard stats:",p),j(X,"Failed to load dashboard statistics. Please try again.")}finally{j(M,!1)}}let u=P({branchCustomer:!1,transactionsRewards:!1,cardCoupon:!1,supportComm:!1,reportsData:!1,userControl:!1});const ze={en:{adminDashboard:"Admin Dashboard",welcomeMessage:"Welcome to the Urban Market Loyalty Admin Panel",dashboard:"Home",collapseAll:"Collapse All",expandAll:"Expand All",totalCustomers:"Total Customers",activeCards:"Active Cards",rewardsRedeemed:"Rewards Redeemed",revenue:"Revenue (﷼)",quickActions:"Quick Actions",branchCustomerMgmt:"Branch & Customer Management",transactionsRewards:"Transactions & Rewards",cardCouponControl:"Card & Coupon Control",supportCommunication:"Support & Communication",reportsData:"Reports & Data",userControl:"User Control & Settings",uploadCustomers:"Upload Customers",importCustomerData:"Import customer data",manageBranches:"Manage Branches",createBranches:"Create branches with auto transaction tables",uploadTransactions:"Upload Transactions",bulkUpload:"Bulk upload to branch-specific tables",manageCoupons:"Manage Coupons",createEditCoupons:"Create and edit coupons",viewAnalytics:"View Analytics",performanceReports:"Performance reports",manageCustomers:"Manage Customers",customerDatabase:"Customer database",sendNotifications:"Send Notifications",customerMessaging:"Customer messaging",exportData:"Export Data",downloadReports:"Download reports",manageUsers:"Manage Users & Employees",userManagement:"User management and access control",resetPasswords:"Reset Passwords",blockActivateUsers:"Block/Activate users and manage permissions",userActionReports:"User Action Reports",employeeActivityLogs:"Employee activity and audit logs"},ar:{adminDashboard:"لوحة تحكم الإدارة",welcomeMessage:"مرحباً بك في لوحة إدارة برنامج الولاء",dashboard:"الرئيسية",collapseAll:"طي الكل",expandAll:"توسيع الكل",totalCustomers:"إجمالي العملاء",activeCards:"البطاقات النشطة",rewardsRedeemed:"المكافآت المستبدلة",revenue:"الإيرادات (ريال)",quickActions:"الإجراءات السريعة",branchCustomerMgmt:"إدارة الفروع والعملاء",transactionsRewards:"المعاملات والمكافآت",cardCouponControl:"تحكم البطاقات والكوبونات",supportCommunication:"الدعم والتواصل",reportsData:"التقارير والبيانات",userControl:"تحكم المستخدمين والإعدادات",uploadCustomers:"رفع العملاء",importCustomerData:"استيراد بيانات العملاء",manageBranches:"إدارة الفروع",createBranches:"إنشاء فروع مع جداول المعاملات التلقائية",uploadTransactions:"رفع المعاملات",bulkUpload:"رفع مجمع لجداول الفروع المحددة",manageCoupons:"إدارة الكوبونات",createEditCoupons:"إنشاء وتعديل الكوبونات",viewAnalytics:"عرض التحليلات",performanceReports:"تقارير الأداء",manageCustomers:"إدارة العملاء",customerDatabase:"قاعدة بيانات العملاء",sendNotifications:"إرسال الإشعارات",customerMessaging:"مراسلة العملاء",exportData:"تصدير البيانات",downloadReports:"تحميل التقارير",manageUsers:"إدارة المستخدمين والموظفين",userManagement:"إدارة المستخدمين والتحكم في الصلاحيات",resetPasswords:"إعادة تعيين كلمات المرور",blockActivateUsers:"حظر/تفعيل المستخدمين وإدارة الصلاحيات",userActionReports:"تقارير أنشطة المستخدمين",employeeActivityLogs:"سجلات أنشطة الموظفين والمراجعة"}};function ur(){const p=!e(G);j(u,{branchCustomer:p,transactionsRewards:p,cardCoupon:p,supportComm:p,reportsData:p,userControl:p})}function W(p){$(u,e(u)[p]=!e(u)[p])}function cr(p){const R={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",yellow:"bg-yellow-100 text-yellow-600",purple:"bg-purple-100 text-purple-600"};return R[p]||R.blue}de(()=>{},()=>{j(a,ze[s]||ze.en)}),de(()=>e(u),()=>{j(G,Object.values(e(u)).every(p=>p))}),de(()=>(e(a),e(M),e(_)),()=>{j(Fe,[{title:e(a).totalCustomers,value:e(M)?"...":e(_).totalCustomers.toLocaleString(),icon:"👥",color:"blue"},{title:e(a).activeCards,value:e(M)?"...":e(_).activeCards.toLocaleString(),icon:"💳",color:"green"},{title:e(a).rewardsRedeemed,value:e(M)?"...":e(_).rewardsRedeemed.toLocaleString(),icon:"🎁",color:"red"},{title:e(a).revenue,value:e(M)?"...":e(_).totalRevenue.toLocaleString("en-US",{minimumFractionDigits:0}),icon:"💰",color:"yellow"}])}),de(()=>e(a),()=>{j(vr,[{title:e(a).uploadCustomers,desc:e(a).importCustomerData,icon:"👥",color:"blue",href:"/admin/upload-customers"},{title:e(a).manageBranches,desc:e(a).createBranches,icon:"🏢",color:"red",href:"/admin/manage-branches"},{title:e(a).uploadTransactions,desc:e(a).bulkUpload,icon:"📊",color:"green",href:"/admin/upload-transactions"},{title:e(a).viewAnalytics,desc:e(a).performanceReports,icon:"📈",color:"purple",href:"/admin/analytics-reports"},{title:e(a).manageCustomers,desc:e(a).customerDatabase,icon:"👤",color:"green",href:"/admin/customer-management"},{title:e(a).sendNotifications,desc:e(a).customerMessaging,icon:"🔔",color:"purple",href:"/admin/notification-center"},{title:e(a).exportData,desc:e(a).downloadReports,icon:"📤",color:"blue",href:"/admin/export-data"}])}),Yr(),tt();var ue=bt(),Ne=o(t(ue),6),pr=t(Ne);{var mr=p=>{var R=at();y(p,R)},gr=p=>{var R=ht(),N=sr(R),U=t(N),E=t(U);l(E,1,"text-4xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-3",null,{},{"text-right":s==="ar"});var Y=t(E,!0);r(E);var H=o(E,2);l(H,1,"flex items-center space-x-4",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var re=t(H);l(re,1,"text-gray-500 text-lg",null,{},{"text-right":s==="ar"});var xr=t(re,!0);r(re);var hr=o(re,2);{var br=v=>{var i=ot(),g=t(i);r(i),z(c=>d(g,`Last updated: ${c??""}`),[()=>(e(ee),n(()=>e(ee).toLocaleTimeString()))]),y(v,i)};T(hr,v=>{e(ee)&&!e(M)&&v(br)})}r(H),r(U);var Ie=o(U,2),qe=t(Ie);{var fr=v=>{var i=st(),g=t(i),c=t(g,!0);r(g),nr(2),r(i),z(()=>d(c,(e(K),n(()=>e(K).name||e(K).email)))),y(v,i)};T(qe,v=>{e(K)&&v(fr)})}var Z=o(qe,2),ce=t(Z);let He;var _r=t(ce,!0);r(ce),nr(2),r(Z);var pe=o(Z,2),me=t(pe),wr=t(me,!0);r(me);var Oe=o(me,2),yr=t(Oe,!0);r(Oe),r(pe),r(Ie),r(N);var ge=o(N,2);et(ge,5,()=>e(Fe),rt,(v,i)=>{var g=dt(),c=t(g),x=t(c),b=t(x,!0);r(x),r(c);var m=o(c,2),A=t(m);l(A,1,"text-gray-500 text-sm font-medium",null,{},{"text-right":s==="ar"});var h=t(A,!0);r(A);var F=o(A,2);{var B=w=>{var f=nt();l(f,1,"flex items-center",null,{},{"justify-end":s==="ar"}),y(w,f)},D=w=>{var f=$r(),O=sr(f);{var S=L=>{var k=lt();l(k,1,"text-xl font-bold text-red-600",null,{},{"text-right":s==="ar"}),y(L,k)},J=L=>{var k=it();l(k,1,"text-2xl font-bold text-gray-900",null,{},{"text-right":s==="ar"});var Q=t(k,!0);r(k),z(()=>d(Q,(e(i),n(()=>e(i).value)))),y(L,k)};T(O,L=>{e(X)?L(S):L(J,!1)},!0)}y(w,f)};T(F,w=>{e(M)?w(B):w(D,!1)})}r(m),r(g),z(w=>{l(c,1,`p-3 ${w??""} rounded-full`,"svelte-1dz7lvo"),d(b,(e(i),n(()=>e(i).icon))),d(h,(e(i),n(()=>e(i).title)))},[()=>(e(i),n(()=>cr(e(i).color)))]),y(v,g)}),r(ge);var Je=o(ge,2);{var Cr=v=>{var i=vt(),g=t(i),c=t(g),x=o(t(c),2),b=t(x,!0);r(x),r(c);var m=o(c,2);r(g),r(i),z(()=>d(b,e(X))),q("click",m,ve),y(v,i)};T(Je,v=>{e(X)&&v(Cr)})}var Qe=o(Je,2),te=t(Qe);l(te,1,"text-2xl font-bold text-gray-800 mb-6",null,{},{"text-right":s==="ar"});var Rr=t(te,!0);r(te);var xe=o(te,2),ae=t(xe),he=t(ae),Ve=o(t(he),2),kr=t(Ve,!0);r(Ve),r(he);var be=o(he,2);let We;var Ar=t(be,!0);r(be),r(ae);var Dr=o(ae,2);{var Sr=v=>{var i=ut(),g=t(i),c=t(g),x=t(c);l(x,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var b=o(t(x),2),m=t(b);l(m,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var A=t(m,!0);r(m);var h=o(m,2);l(h,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var F=t(h,!0);r(h),r(b),r(x),r(c);var B=o(c,2),D=t(B);l(D,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var w=o(t(D),2),f=t(w);l(f,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var O=t(f,!0);r(f);var S=o(f,2);l(S,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var J=t(S,!0);r(S),r(w),r(D),r(B);var L=o(B,2),k=t(L);l(k,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var Q=o(t(k),2),I=t(Q);l(I,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var je=t(I,!0);r(I);var V=o(I,2);l(V,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var Te=t(V,!0);r(V),r(Q),r(k),r(L),r(g),r(i),z(()=>{d(A,(e(a),n(()=>e(a).uploadCustomers))),d(F,(e(a),n(()=>e(a).importCustomerData))),d(O,(e(a),n(()=>e(a).manageBranches))),d(J,(e(a),n(()=>e(a).createBranches))),d(je,(e(a),n(()=>e(a).manageCustomers))),d(Te,(e(a),n(()=>e(a).customerDatabase)))}),y(v,i)};T(Dr,v=>{e(u),n(()=>!e(u).branchCustomer)&&v(Sr)})}r(xe);var fe=o(xe,2),oe=t(fe),_e=t(oe),Ge=o(t(_e),2),Mr=t(Ge,!0);r(Ge),r(_e);var we=o(_e,2);let Ke;var Ur=t(we,!0);r(we),r(oe);var Br=o(oe,2);{var Lr=v=>{var i=ct(),g=t(i),c=t(g),x=t(c);l(x,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var b=o(t(x),2),m=t(b);l(m,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var A=t(m,!0);r(m);var h=o(m,2);l(h,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var F=t(h,!0);r(h),r(b),r(x),r(c),r(g),r(i),z(()=>{d(A,(e(a),n(()=>e(a).uploadTransactions))),d(F,(e(a),n(()=>e(a).bulkUpload)))}),y(v,i)};T(Br,v=>{e(u),n(()=>!e(u).transactionsRewards)&&v(Lr)})}r(fe);var ye=o(fe,2),se=t(ye),Ce=t(se),Xe=o(t(Ce),2),jr=t(Xe,!0);r(Xe),r(Ce);var Re=o(Ce,2);let Ye;var Tr=t(Re,!0);r(Re),r(se);var Er=o(se,2);{var Fr=v=>{var i=pt();y(v,i)};T(Er,v=>{e(u),n(()=>!e(u).cardCoupon)&&v(Fr)})}r(ye);var ke=o(ye,2),ne=t(ke),Ae=t(ne),Ze=o(t(Ae),2),Pr=t(Ze,!0);r(Ze),r(Ae);var De=o(Ae,2);let $e;var zr=t(De,!0);r(De),r(ne);var Nr=o(ne,2);{var Ir=v=>{var i=mt(),g=t(i),c=t(g),x=t(c);l(x,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var b=o(t(x),2),m=t(b);l(m,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var A=t(m,!0);r(m);var h=o(m,2);l(h,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var F=t(h,!0);r(h),r(b),r(x),r(c),r(g),r(i),z(()=>{d(A,(e(a),n(()=>e(a).sendNotifications))),d(F,(e(a),n(()=>e(a).customerMessaging)))}),y(v,i)};T(Nr,v=>{e(u),n(()=>!e(u).supportComm)&&v(Ir)})}r(ke);var Se=o(ke,2),le=t(Se),Me=t(le),er=o(t(Me),2),qr=t(er,!0);r(er),r(Me);var Ue=o(Me,2);let rr;var Hr=t(Ue,!0);r(Ue),r(le);var Or=o(le,2);{var Jr=v=>{var i=gt(),g=t(i),c=t(g),x=t(c);l(x,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var b=o(t(x),2),m=t(b);l(m,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var A=t(m,!0);r(m);var h=o(m,2);l(h,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var F=t(h,!0);r(h),r(b),r(x),r(c);var B=o(c,2),D=t(B);l(D,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var w=o(t(D),2),f=t(w);l(f,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var O=t(f,!0);r(f);var S=o(f,2);l(S,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var J=t(S,!0);r(S),r(w),r(D),r(B),r(g),r(i),z(()=>{d(A,(e(a),n(()=>e(a).viewAnalytics))),d(F,(e(a),n(()=>e(a).performanceReports))),d(O,(e(a),n(()=>e(a).exportData))),d(J,(e(a),n(()=>e(a).downloadReports)))}),y(v,i)};T(Or,v=>{e(u),n(()=>!e(u).reportsData)&&v(Jr)})}r(Se);var tr=o(Se,2),ie=t(tr),Be=t(ie),ar=o(t(Be),2),Qr=t(ar,!0);r(ar),r(Be);var Le=o(Be,2);let or;var Vr=t(Le,!0);r(Le),r(ie);var Wr=o(ie,2);{var Gr=v=>{var i=xt(),g=t(i),c=t(g),x=t(c);l(x,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var b=o(t(x),2),m=t(b);l(m,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var A=t(m,!0);r(m);var h=o(m,2);l(h,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var F=t(h,!0);r(h),r(b),r(x),r(c);var B=o(c,2),D=t(B);l(D,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var w=o(t(D),2),f=t(w);l(f,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var O=t(f,!0);r(f);var S=o(f,2);l(S,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var J=t(S,!0);r(S),r(w),r(D),r(B);var L=o(B,2),k=t(L);l(k,1,"flex items-start space-x-3",null,{},{"flex-row-reverse":s==="ar","space-x-reverse":s==="ar"});var Q=o(t(k),2),I=t(Q);l(I,1,"font-medium text-gray-900 truncate",null,{},{"text-right":s==="ar"});var je=t(I,!0);r(I);var V=o(I,2);l(V,1,"text-sm text-gray-600 mt-1",null,{},{"text-right":s==="ar"});var Te=t(V,!0);r(V),r(Q),r(k),r(L),r(g),r(i),z(()=>{d(A,(e(a),n(()=>e(a).manageUsers))),d(F,(e(a),n(()=>e(a).userManagement))),d(O,(e(a),n(()=>e(a).resetPasswords))),d(J,(e(a),n(()=>e(a).blockActivateUsers))),d(je,(e(a),n(()=>e(a).userActionReports))),d(Te,(e(a),n(()=>e(a).employeeActivityLogs)))}),y(v,i)};T(Wr,v=>{e(u),n(()=>!e(u).userControl)&&v(Gr)})}r(tr),r(Qe),z((v,i,g,c,x,b,m)=>{d(Y,(e(a),n(()=>e(a).adminDashboard))),d(xr,(e(a),n(()=>e(a).welcomeMessage))),Z.disabled=e(M),He=l(ce,1,"text-sm svelte-1dz7lvo",null,He,v),d(_r,e(M)?"🔄":"↻"),d(wr,e(G)?"➕":"➖"),d(yr,(e(G),e(a),n(()=>e(G)?e(a).expandAll:e(a).collapseAll))),d(Rr,(e(a),n(()=>e(a).quickActions))),d(kr,(e(a),n(()=>e(a).branchCustomerMgmt))),We=l(be,1,"text-gray-500 text-xl transform transition-transform duration-200",null,We,i),d(Ar,(e(u),n(()=>e(u).branchCustomer?"➖":"➕"))),d(Mr,(e(a),n(()=>e(a).transactionsRewards))),Ke=l(we,1,"text-gray-500 text-xl transform transition-transform duration-200",null,Ke,g),d(Ur,(e(u),n(()=>e(u).transactionsRewards?"➖":"➕"))),d(jr,(e(a),n(()=>e(a).cardCouponControl))),Ye=l(Re,1,"text-gray-500 text-xl transform transition-transform duration-200",null,Ye,c),d(Tr,(e(u),n(()=>e(u).cardCoupon?"➖":"➕"))),d(Pr,(e(a),n(()=>e(a).supportCommunication))),$e=l(De,1,"text-gray-500 text-xl transform transition-transform duration-200",null,$e,x),d(zr,(e(u),n(()=>e(u).supportComm?"➖":"➕"))),d(qr,(e(a),n(()=>e(a).reportsData))),rr=l(Ue,1,"text-gray-500 text-xl transform transition-transform duration-200",null,rr,b),d(Hr,(e(u),n(()=>e(u).reportsData?"➖":"➕"))),d(Qr,(e(a),n(()=>e(a).userControl))),or=l(Le,1,"text-gray-500 text-xl transform transition-transform duration-200",null,or,m),d(Vr,(e(u),n(()=>e(u).userControl?"➖":"➕")))},[()=>({"animate-spin":e(M)}),()=>({"rotate-180":!e(u).branchCustomer}),()=>({"rotate-180":!e(u).transactionsRewards}),()=>({"rotate-180":!e(u).cardCoupon}),()=>({"rotate-180":!e(u).supportComm}),()=>({"rotate-180":!e(u).reportsData}),()=>({"rotate-180":!e(u).userControl})]),q("click",Z,ve),q("click",pe,ur),q("click",ae,()=>W("branchCustomer")),q("click",oe,()=>W("transactionsRewards")),q("click",se,()=>W("cardCoupon")),q("click",ne,()=>W("supportComm")),q("click",le,()=>W("reportsData")),q("click",ie,()=>W("userControl")),y(p,R)};T(pr,p=>{e(Pe)?p(gr,!1):p(mr)})}r(Ne),r(ue),y(ir,ue),Zr()}export{Mt as component};
